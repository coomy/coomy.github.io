<!DOCTYPE html>
<html>
<head>
  <title>Test NQE</title>
  <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="https://unpkg.com/vue"></script>
</head>

<body>
  <div id="app">
    <div class="row">
      <div class="col-xs-2 text-right">type:</div><div>{{ type }}</div>
    </div>
    <div class="row">
      <div class="col-xs-2 text-right">downlink:</div><div>{{ downlink }}</div>
    </div>
    <div class="row">
      <div class="col-xs-2 text-right">rtt:</div><div>{{ rtt }}</div>
    </div>
    <div class="row">
      <div class="col-xs-2 text-right">downlinkMax:</div><div>{{ downlinkMax }}</div>
    </div>
    <div class="row">
      <div class="col-xs-2 text-right">effictiveType:</div><div>{{ effectiveType }}</div>
    </div>
    <div class="row">
      <div class="col-xs-2 col-xs-offset-1 btn btn-primary" v-on:click="updateNqe">Get NQE</div>
    </div>
  </div>

  <script>
    var vm = new Vue({
      el: '#app',
      data: {
        type: '-',
        downlink: '-',
        rtt: '-',
        downlinkMax: '-',
        effectiveType: '-'
      },
      methods: {
        updateNqe: function() {
          this.type = navigator.connection.type,
          this.downlink = navigator.connection.downlink + ' Mb/s',
          this.rtt = navigator.connection.rtt + ' ms',
          this.downlinkMax = navigator.connection.downlinkMax + ' Mb/s',
          this.effectiveType = navigator.connection.effectiveType
        }
      }
    })

  </script>
</body>
</html>
